################################################################################
#               FEATURE: Multibloc Blockstate Refonte                         #
################################################################################

FEATURE: Multibloc Blockstate Refonte
Description: Remplacement de BooleanProperty FORMED par EnumProperty<MultiblockProperty>
             MULTIBLOCK sur tous les blocs multiblocs, permettant a chaque bloc de
             savoir a quel type de multibloc il appartient.
Statut: COMPLET
Date: 2026-02-04

================================================================================
ARCHITECTURE
================================================================================

MultiblockProperty (enum, StringRepresentable):
- NONE       : bloc non forme (equivalent ancien formed=false)
- ALTAR      : appartient au multibloc Honey Altar
- EXTRACTOR  : appartient au multibloc Essence Extractor
- STORAGE    : appartient au multibloc Storage Controller
- HIVE       : appartient au multibloc Hive
- ALEMBIC    : appartient au multibloc Alembic (nouveau)
- INFUSER    : appartient au multibloc Infuser (nouveau)
- CENTRIFUGE : appartient au multibloc Centrifuge (nouveau)

Factory: MultiblockProperty.createProperty() retourne un EnumProperty<MultiblockProperty>

================================================================================
BLOCS MIS A JOUR (16 blocs existants)
================================================================================

| Bloc                   | Ancien state       | Nouveau state              |
|------------------------|--------------------|----------------------------|
| altar_heart            | formed=true/false  | multiblock=none/altar      |
| extractor_heart        | formed=true/false  | multiblock=none/extractor  |
| honey_pedestal         | formed=true/false  | multiblock=none/altar      |
| honeyed_stone          | formed=true/false  | multiblock=none/altar/...  |
| honeyed_stone_stair    | formed=true/false  | multiblock=none/altar/...  |
| honey_crystal_conduit  | formed=true/false  | multiblock=none/altar      |
| honey_reservoir        | formed=true/false  | multiblock=none/altar/...  |
| honeyed_slab           | formed=true/false  | multiblock=none/...        |
| hive_multiblock        | formed=true/false  | multiblock=none/hive       |
| storage_controller     | formed=true/false  | multiblock=none/storage    |
| controller_pipe        | formed=true/false  | multiblock=none/storage    |
| storage_terminal       | formed=true/false  | multiblock=none/storage    |
| controlled_hive        | formed=true/false  | multiblock=none/storage    |

================================================================================
NOUVEAUX BLOCS
================================================================================

--- Heart Blocks Alchemy (3) ---
| Bloc              | Classe                 | BlockEntity                    |
|-------------------|------------------------|--------------------------------|
| alembic_heart     | AlembicHeartBlock      | AlembicHeartBlockEntity        |
| infuser_heart     | InfuserHeartBlock      | InfuserHeartBlockEntity        |
| centrifuge_heart  | CentrifugeHeartBlock   | CentrifugeHeartBlockEntity     |

Chaque Heart block:
- Possede MULTIBLOCK property (none + son type specifique)
- BlockEntity minimal (prepare pour future logique multibloc)
- Localisation: common/block/alchemy/ et common/blockentity/alchemy/

--- Storage Material Blocks (3) ---
| Bloc                 | Type         |
|----------------------|--------------|
| honeyed_iron_block   | Block simple |
| royal_gold_block     | Block simple |
| nectar_diamond_block | Block simple |

================================================================================
PHASE 2: MODELES DEDIES PAR MULTIBLOC (2026-02-04)
================================================================================

Chaque bloc participant a un multibloc possede maintenant un modele dedie par
etat multibloc (copie du modele de base, personnalisable plus tard).
Suppression de la propriete LAYER du HoneyedStoneBlock.

--- Nouvelles classes Java (3) ---
| Fichier                                              | Role                          |
|------------------------------------------------------|-------------------------------|
| common/block/building/HoneyedStoneWallBlock.java     | WallBlock + MULTIBLOCK (infuser, centrifuge) |
| common/block/building/HoneyedGlassBlock.java         | TransparentBlock + MULTIBLOCK (alembic)      |
| common/block/building/RoyalGoldBlock.java            | Block + MULTIBLOCK (alembic)                 |

--- Blocs Java modifies (6) ---
| Bloc                   | Modification                                        |
|------------------------|-----------------------------------------------------|
| HoneyedStoneBlock      | Supprime LAYER, MULTIBLOCK etendu a 5 types         |
| HoneyReservoirBlock    | MULTIBLOCK etendu a 4 types                          |
| HoneyedStoneStairBlock | +MULTIBLOCK (altar)                                  |
| HoneyPedestalBlock     | +MULTIBLOCK (altar, extractor)                       |
| ControlledHiveBlock    | +MULTIBLOCK (storage)                                |
| StorageTerminalBlock   | +MULTIBLOCK (storage)                                |

--- Registre BeemancerBlocks.java ---
| Ancien type         | Nouveau type              | Bloc               |
|---------------------|---------------------------|---------------------|
| WallBlock           | HoneyedStoneWallBlock     | HONEYED_STONE_WALL |
| TransparentBlock    | HoneyedGlassBlock         | HONEYED_GLASS      |
| Block               | RoyalGoldBlock            | ROYAL_GOLD_BLOCK   |

--- BlockEntities modifies (6) ---
| BlockEntity                    | Modification                              |
|--------------------------------|-------------------------------------------|
| AltarHeartBlockEntity          | Supprime LAYER, +updateGenericMultiblock  |
| ExtractorHeartBlockEntity      | +setFormedOnStructureBlocks (EXTRACTOR)   |
| InfuserHeartBlockEntity        | +setFormedOnStructureBlocks (INFUSER)     |
| CentrifugeHeartBlockEntity     | +setFormedOnStructureBlocks (CENTRIFUGE)  |
| AlembicHeartBlockEntity        | +setFormedOnStructureBlocks (ALEMBIC)     |
| StorageMultiblockManager       | Supprime skipMultiblock HoneyedStone      |

--- Blockstate JSONs modifies (10) ---
| Fichier                    | Changement                                     |
|----------------------------|-------------------------------------------------|
| honeyed_stone.json         | 6 variants multibloc (supprime LAYER)            |
| honey_reservoir.json       | 20 entries (4 facings x 5 multibloc)             |
| hive_multiblock.json       | 2 variants (none, hive)                          |
| honeyed_slab.json          | 6 entries (3 types x 2 multibloc)                |
| honeyed_stone_stair.json   | 80 entries (40 none + 40 altar)                  |
| honey_pedestal.json        | 3 variants (none, altar, extractor)              |
| honeyed_glass.json         | 2 variants (none, alembic)                       |
| royal_gold_block.json      | 2 variants (none, alembic)                       |
| controlled_hive.json       | 2 variants (none, storage)                       |
| storage_terminal.json      | 8 entries (4 rotations x 2 multibloc)            |

--- Modeles JSON crees (21) ---
Honeyed Stone: honeyed_stone_altar, _extractor, _infuser, _centrifuge, _storage, _hive
Honey Reservoir: honey_reservoir_extractor, _storage, _alembic
Hive Multiblock: hive_multiblock_hive
Honeyed Slab: honeyed_slab_hive, honeyed_slab_top_hive
Stairs: honeyed_stone_stair_altar, _inner_altar, _outer_altar
Pedestal: honey_pedestal_altar, _extractor
Glass: honeyed_glass_alembic
Gold: royal_gold_block_alembic
Controlled Hive: controlled_hive_storage
Storage Terminal: storage_terminal_storage

--- Modeles JSON supprimes (3) ---
- honeyed_stone_altar_layer0.json
- honeyed_stone_altar_layer1.json
- honeyed_stone_altar_layer2.json

================================================================================
PHASE 1: SCRIPTS CREES (initial)
================================================================================

| Fichier                                              | Role                          |
|------------------------------------------------------|-------------------------------|
| core/multiblock/MultiblockProperty.java              | Enum + factory property       |
| common/block/alchemy/AlembicHeartBlock.java          | Heart block Alembic           |
| common/block/alchemy/InfuserHeartBlock.java          | Heart block Infuser           |
| common/block/alchemy/CentrifugeHeartBlock.java       | Heart block Centrifuge        |
| common/blockentity/alchemy/AlembicHeartBlockEntity.java   | BE Alembic Heart         |
| common/blockentity/alchemy/InfuserHeartBlockEntity.java   | BE Infuser Heart         |
| common/blockentity/alchemy/CentrifugeHeartBlockEntity.java| BE Centrifuge Heart      |

================================================================================
DEPENDANCES
================================================================================

- MultiblockProperty est utilise par TOUS les blocs multiblocs
- Les Heart blocks dependent de BeemancerBlocks et BeemancerBlockEntities
- Les blockstate JSONs referencent les valeurs de l'enum
- Chaque BlockEntity multibloc set MULTIBLOCK sur ses blocs participants via
  setFormedOnStructureBlocks() ou updateGenericMultiblock()

################################################################################
