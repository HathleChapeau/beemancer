################################################################################
#                              BEEMANCER - STRUCTURE                           #
#                         Dernière mise à jour: 2026-01-21                     #
################################################################################

================================================================================
TABLE DES MATIÈRES
================================================================================
1. VUE D'ENSEMBLE
2. ARBORESCENCE COMPLÈTE
3. FICHIERS FONDAMENTAUX (CORE)
4. REGISTRES
5. FEATURES IMPLÉMENTÉES
6. FEATURES EN COURS
7. DÉPENDANCES UNIVERSELLES
8. GUIDE D'INTÉGRATION D'UNE FEATURE
9. CHANGELOG STRUCTURE

================================================================================
1. VUE D'ENSEMBLE
================================================================================

Mod: Beemancer
Version MC: 1.21.1
Loader: NeoForge
Package racine: com.chapeau.beemancer

Philosophie:
- Modularité maximale (1 script = 1 responsabilité)
- Système de gènes modulaire pour les abeilles
- Patterns inspirés de Create et Cobblemon

================================================================================
2. ARBORESCENCE COMPLÈTE
================================================================================

src/main/java/com/chapeau/beemancer/
│
├── Beemancer.java                      # [CORE] Point d'entrée du mod
│
├── core/                               # === FONDATIONS UNIVERSELLES ===
│   ├── registry/
│   │   ├── BeemancerItems.java
│   │   ├── BeemancerBlocks.java
│   │   ├── BeemancerBlockEntities.java
│   │   ├── BeemancerEntities.java
│   │   ├── BeemancerMenus.java
│   │   └── BeemancerCreativeTabs.java
│   │
│   ├── gene/                           # === SYSTÈME DE GÈNES ===
│   │   ├── Gene.java                   # Interface gène
│   │   ├── AbstractGene.java           # Classe abstraite de base
│   │   ├── GeneCategory.java           # Catégories de gènes
│   │   ├── GeneRegistry.java           # Registre des gènes
│   │   └── BeeGeneData.java            # Données gènes d'une abeille
│   │
│   └── network/
│       ├── BeemancerNetwork.java
│       └── packets/
│           └── BeeCreatorActionPacket.java
│
├── common/                             # === LOGIQUE PARTAGÉE ===
│   ├── block/
│   │   ├── storage/
│   │   │   └── StorageCrateBlock.java
│   │   └── beecreator/
│   │       ├── BeeCreatorBlock.java
│   │       └── BeeCreatorBlockEntity.java
│   │
│   ├── blockentity/storage/
│   │   └── StorageCrateBlockEntity.java
│   │
│   ├── item/bee/
│   │   ├── MagicBeeItem.java           # Item abeille avec gènes
│   │   └── BeeWandItem.java            # Baguette de contrôle
│   │
│   ├── entity/bee/
│   │   └── MagicBeeEntity.java         # Entité abeille avec gènes
│   │
│   ├── event/
│   │   └── BeeInteractionHandler.java
│   │
│   └── menu/
│       ├── StorageCrateMenu.java
│       └── BeeCreatorMenu.java
│
├── content/                            # === CONTENU PAR FEATURE ===
│   └── gene/                           # Implémentations des gènes
│       ├── GeneInit.java               # Initialisation des gènes
│       ├── species/
│       │   ├── SpeciesGene.java
│       │   ├── CommonSpeciesGene.java
│       │   ├── NobleSpeciesGene.java
│       │   └── DiligentSpeciesGene.java
│       ├── environment/
│       │   ├── EnvironmentGene.java
│       │   ├── NormalEnvironmentGene.java
│       │   ├── RobustEnvironmentGene.java
│       │   └── NocturnalEnvironmentGene.java
│       └── flower/
│           ├── FlowerGene.java
│           ├── FlowersFlowerGene.java
│           ├── CropsFlowerGene.java
│           └── CavePlantsFlowerGene.java
│
└── client/
    ├── ClientSetup.java
    └── gui/screen/
        ├── StorageCrateScreen.java
        └── BeeCreatorScreen.java

================================================================================
3. FICHIERS FONDAMENTAUX (CORE)
================================================================================

┌─────────────────────────────────────┬────────────────────────────────────────┐
│ Fichier                             │ Rôle                                   │
├─────────────────────────────────────┼────────────────────────────────────────┤
│ Beemancer.java                      │ Point d'entrée, init des gènes         │
│ core/gene/Gene.java                 │ Interface pour tous les gènes          │
│ core/gene/GeneRegistry.java         │ Registre central des gènes             │
│ core/gene/GeneCategory.java         │ Définition des catégories              │
│ content/gene/GeneInit.java          │ Enregistrement de tous les gènes       │
│ client/ClientSetup.java             │ Init client (screens, renderers)       │
└─────────────────────────────────────┴────────────────────────────────────────┘

================================================================================
4. REGISTRES
================================================================================

ITEMS:
| ID            | Classe          | Feature      |
|---------------|-----------------|--------------|
| storage_crate | BlockItem       | Storage      |
| bee_creator   | BlockItem       | Bee Creator  |
| magic_bee     | MagicBeeItem    | Gene System  |
| bee_wand      | BeeWandItem     | Bee Control  |

BLOCS:
| ID            | Classe           | BlockEntity? | Feature      |
|---------------|------------------|--------------|--------------|
| storage_crate | StorageCrateBlock| Oui          | Storage      |
| bee_creator   | BeeCreatorBlock  | Oui          | Gene Editor  |

ENTITÉS:
| ID        | Classe          | Feature      |
|-----------|-----------------|--------------|
| magic_bee | MagicBeeEntity  | Gene System  |

MENUS:
| ID            | Classe           | Feature      |
|---------------|------------------|--------------|
| storage_crate | StorageCrateMenu | Storage      |
| bee_creator   | BeeCreatorMenu   | Gene Editor  |

================================================================================
5. FEATURES IMPLÉMENTÉES
================================================================================

--------------------------------------------------------------------------------
FEATURE: Gene System
--------------------------------------------------------------------------------
Description: Système modulaire de gènes pour les abeilles
Statut: COMPLÈTE

Architecture:
- GeneCategory: Catégorie de gènes (species, environment, flower)
- Gene: Interface définissant un gène
- AbstractGene: Implémentation de base
- GeneRegistry: Registre central
- BeeGeneData: Stockage des gènes d'une abeille

Catégories de gènes:
1. SPECIES (Espèce) - Couleur: Or
   - common: Standard
   - noble: +production, -vitesse
   - diligent: +vitesse, -production

2. ENVIRONMENT (Environnement) - Couleur: Vert
   - normal: Conditions standard
   - robust: Travaille sous la pluie
   - nocturnal: Travaille la nuit

3. FLOWER (Fleur) - Couleur: Violet
   - flowers: Fleurs standard
   - crops: Cultures
   - cave_plants: Plantes de caverne
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
FEATURE: Magic Bee
--------------------------------------------------------------------------------
Description: Abeille avec système de gènes
Statut: COMPLÈTE

- MagicBeeEntity: Entité avec BeeGeneData
- MagicBeeItem: Item avec tooltip affichant les gènes (shift)
- Navigation contrôlée via BeeWand
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
FEATURE: Bee Creator
--------------------------------------------------------------------------------
Description: Interface GUI pour modifier les gènes des abeilles
Statut: COMPLÈTE

- BeeCreatorBlock: Bloc machine
- BeeCreatorBlockEntity: Stockage de l'abeille
- BeeCreatorMenu: Logique de sélection des gènes
- BeeCreatorScreen: Interface avec flèches et bouton Edit
- Lignes dynamiques selon le nombre de catégories
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
FEATURE: Bee Wand
--------------------------------------------------------------------------------
Description: Baguette pour contrôler les abeilles
Statut: COMPLÈTE

- Clic droit sur abeille: Sélectionne (son Ding)
- Clic droit sur bloc: Définit destination (son Dong)
- Shift+clic droit air: Désélectionne
- Tooltip affiche l'abeille sélectionnée
--------------------------------------------------------------------------------

================================================================================
6. FEATURES EN COURS
================================================================================

[Aucune]

================================================================================
7. DÉPENDANCES UNIVERSELLES
================================================================================

core/gene/:
- Gene.java: Interface pour créer de nouveaux gènes
- AbstractGene.java: Classe de base avec paramètres
- GeneCategory.java: Pour ajouter de nouvelles catégories
- GeneRegistry.java: Pour enregistrer et récupérer des gènes

================================================================================
8. GUIDE D'INTÉGRATION D'UNE FEATURE
================================================================================

Pour ajouter un nouveau gène:
1. Créer une classe dans content/gene/[category]/
2. Hériter de la classe de base de la catégorie (ex: SpeciesGene)
3. Enregistrer dans GeneInit.registerAllGenes()
4. Ajouter les traductions dans lang/*.json

Pour ajouter une nouvelle catégorie de gènes:
1. Ajouter dans GeneCategory.java
2. Créer le package content/gene/[category]/
3. Créer la classe de base [Category]Gene
4. Ajouter les traductions

================================================================================
9. CHANGELOG STRUCTURE
================================================================================

--------------------------------------------------------------------------------
2026-01-21 - Refonte Gene System
--------------------------------------------------------------------------------
- Remplacement DebugBee par MagicBee avec système de gènes
- Création du système de gènes modulaire (core/gene/)
- Création des catégories: Species, Environment, Flower
- Création du BeeCreator avec GUI
- Mise à jour BeeWand pour MagicBee
- 9 gènes implémentés (3 par catégorie)
--------------------------------------------------------------------------------

################################################################################
#                              FIN DU DOCUMENT                                  #
################################################################################
