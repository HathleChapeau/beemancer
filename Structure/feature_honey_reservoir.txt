################################################################################
#             FEATURE: HONEY RESERVOIR + ALTAR HEART                           #
################################################################################

================================================================================
DESCRIPTION
================================================================================

Nouveaux blocs pour le multibloc Honey Altar:
- ALTAR_HEART: Controleur du multibloc (remplace HONEY_CRYSTAL comme controleur)
- HONEY_RESERVOIR: Bloc de stockage fluide horizontal

4 reservoirs sont positionnes au niveau Y+2 du multibloc, pointant vers le centre.
Design chempunk avec capuchons de fer rivete aux extremites et corps en verre ambre.
L'Altar Heart est place au centre (Y+0) et valide la structure.

ROTATION DYNAMIQUE:
- Quand le multibloc se forme, les reservoirs TOURNENT pour pointer vers le centre
- La rotation est geree via le blockstate FACING (comme un escalier Minecraft)
- Le blockstate utilise la propriete "y" pour appliquer la rotation au modele JSON

================================================================================
STRUCTURE MULTIBLOCK CORRIGEE
================================================================================

Suite a cette feature, le pattern du Honey Altar a ete corrige:
- Y+1: 8 conduits (anneau complet) au lieu de 4
- Y+2: 4 Honey Reservoirs remplacent les 4 Honeyed Stone exterieurs

Structure Y+2:
```
   [air]   [R]   [air]       [R] = HONEY_RESERVOIR (x4)
    [R]    [S]    [R]        [S] = HONEYED_STONE (centre)
   [air]   [R]   [air]
```

Structure Y+1:
```
    [C]    [C]    [C]        [C] = HONEY_CRYSTAL_CONDUIT (x8)
    [C]    [S]    [C]        [S] = HONEYED_STONE (centre)
    [C]    [C]    [C]        = ANNEAU COMPLET
```

================================================================================
SCRIPTS
================================================================================

| Fichier                                            | Role                           |
|----------------------------------------------------|--------------------------------|
| common/block/altar/HoneyReservoirBlock.java        | Bloc avec FORMED, FACING       |
| common/blockentity/altar/HoneyReservoirBlockEntity.java | FluidTank 4000mB, IFluidHandler |
| common/block/altar/AltarHeartBlock.java            | Controleur multibloc           |
| common/blockentity/altar/AltarHeartBlockEntity.java | Logique formation/validation  |
| common/block/altar/HoneyCrystalConduitBlock.java   | Conduit avec FORMED property   |
| client/renderer/block/HoneyReservoirRenderer.java  | Rendu fluide avec scale dynamique |

================================================================================
FONCTIONNALITES
================================================================================

INTERACTIONS:
- Clic droit + bucket plein (honey/royal_jelly/nectar) -> remplit le reservoir
- Clic droit + bucket vide -> recupere 1000mB
- Shift + clic droit (main vide, multiblock forme) -> vide completement

FLUIDES ACCEPTES:
- HONEY_SOURCE
- ROYAL_JELLY_SOURCE
- NECTAR_SOURCE

AFFICHAGE VISUEL:
- Le bloc utilise des modeles JSON pour le container (2 modeles: forme/non-forme)
- Le fluide est rendu dynamiquement par HoneyReservoirRenderer avec scale
- La rotation est geree par le blockstate via la propriete "y" sur le modele

RENDU FLUIDE (HoneyReservoirRenderer):
- Scale dynamique base sur le ratio de remplissage (0.0 a 1.0)
- Couleur provenant de IClientFluidTypeExtensions (tint color du fluide)
- Cube translucide rendu a l'interieur du corps verre

================================================================================
REGISTRES MODIFIES
================================================================================

BeemancerBlocks.java:
- +HONEY_RESERVOIR
- +ALTAR_HEART

BeemancerBlockEntities.java:
- +HONEY_RESERVOIR
- +ALTAR_HEART

BeemancerItems.java:
- +HONEY_RESERVOIR (BlockItem)
- +ALTAR_HEART (BlockItem)

BeemancerCreativeTabs.java:
- +HONEY_RESERVOIR (onglet Honey Altar)
- +ALTAR_HEART (onglet Honey Altar)

Beemancer.java:
- +Capability FluidHandler.BLOCK pour HONEY_RESERVOIR

ClientSetup.java:
- +registerBlockEntityRenderer(HONEY_RESERVOIR, HoneyReservoirRenderer::new)

MultiblockPatterns.java:
- Corrige pattern HONEY_ALTAR (8 conduits, 4 reservoirs)

AltarHeartBlockEntity.java:
- +getReservoirs() - liste des 4 reservoirs
- +getTotalFluidAmount(Fluid) - quantite totale d'un fluide
- +updateReservoir() - met a jour FACING pour pointer vers le centre

HoneyReservoirBlockEntity.java:
- utilise AltarHeartBlockEntity pour verifier multiblock forme
- +getFillRatio() - ratio de remplissage pour le renderer

================================================================================
ASSETS
================================================================================

Blockstates:
- blockstates/honey_reservoir.json (8 variantes: facing x formed)

Models Block (dans models/block/altar/):
- honey_reservoir.json (non-forme)
- honey_reservoir_formed.json (forme)

Models Item:
- models/item/honey_reservoir.json -> parent: block/altar/honey_reservoir

Textures (dans textures/block/altar/):
- reservoir_cap.png (capuchon fer, non-forme)
- reservoir_body.png (corps verre, non-forme)
- reservoir_cap_formed.png (capuchon fer, forme)
- reservoir_body_formed.png (corps verre, forme)

Loot Tables:
- data/beemancer/loot_table/blocks/altar_heart.json

================================================================================
DESIGN 3D
================================================================================

Style chempunk/magicpunk:
```
+===+=======================+===+
| o |~~~~~~~~~~~~~~~~~~~~~~~| o |   <- o = rivets decoratifs
|###|~~~~~~~~~~~~~~~~~~~~~~~|###|   <- # = fer noir (capuchons)
|###|~~~~~~~~~~~~~~~~~~~~~~~|###|   <- ~~~ = verre ambre (corps)
+===+=======================+===+
```

Elements:
- Capuchon fer gauche: [0,4,4] to [3,12,12]
- Corps verre: [3,4,4] to [13,12,12]
- Capuchon fer droit: [13,4,4] to [16,12,12]
- Rivets: petits cubes sur les capuchons de fer

Texture reference:
- Capuchon: beemancer:block/altar/reservoir_cap
- Corps: beemancer:block/altar/reservoir_body
- Fluide: rendu dynamique via renderer (couleur du FluidType)

================================================================================
ROTATION VIA BLOCKSTATE
================================================================================

La rotation des reservoirs est geree comme un escalier Minecraft:
- FACING=NORTH -> y: 90 (pointe vers sud)
- FACING=SOUTH -> y: 270 (pointe vers nord)
- FACING=EAST -> y: 180 (pointe vers ouest)
- FACING=WEST -> y: 0 (pointe vers est)

Quand le multibloc se forme:
- AltarHeartBlockEntity.updateReservoir() met a jour FACING et FORMED
- Le blockstate applique la rotation "y" au modele JSON
- Le bloc physique tourne pour pointer vers le centre du multibloc

================================================================================
DEPENDANCES
================================================================================

| Dependance              | Raison                              |
|-------------------------|-------------------------------------|
| BeemancerFluids         | Types de fluides acceptes           |
| MultiblockValidator     | Detection multiblock forme          |
| FluidUtil               | Interaction buckets NeoForge        |
| IClientFluidTypeExtensions | Couleur du fluide pour renderer  |

================================================================================
REFERENCE CREATE/COBBLEMON
================================================================================

Pattern inspire de:
- Create: FluidTankBlock / FluidTankBlockEntity
- Style visuel: Create Basin, alchimie industrielle
- Rotation: Minecraft stairs/slabs blockstate system

################################################################################
