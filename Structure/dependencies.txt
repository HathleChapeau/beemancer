################################################################################
#                       DÉPENDANCES UNIVERSELLES                               #
################################################################################

================================================================================
core/gene/
================================================================================

- Gene.java: Interface pour créer de nouveaux gènes
- AbstractGene.java: Classe de base avec paramètres
- GeneCategory.java: Pour ajouter de nouvelles catégories
- GeneRegistry.java: Pour enregistrer et récupérer des gènes
- BeeGeneData.java: Stockage gènes + lifetime

================================================================================
core/behavior/
================================================================================

- BeeBehaviorType.java: Types de comportement (FORAGER, HARVESTER)
- BeeBehaviorConfig.java: Configuration complète par espèce
- BeeBehaviorManager.java: Chargement et accès aux configs
- LootEntry.java: Entrée de loot configurable
- SpeedThreshold.java: Seuil de vitesse par nombre d'items

================================================================================
core/util/
================================================================================

- FlowerSearchHelper.java: Recherche de fleurs dans un rayon
- HarvestHelper.java: Logique de récolte par type de bloc (CROP, NETHER_WART, MUSHROOM, CRYSTAL, FLOWER, TREE)
- StorageHelper.java: Vérification des conteneurs de stockage supportés (Chest, Trapped Chest, Barrel)
- ContainerHelper.java: Operations generiques sur Container (insert, extract, count, space)
  - insertItem(Container, ItemStack) / insertItem(Container, ItemStack, int[])
  - extractItem(Container, ItemStack, int)
  - countItem(Container, ItemStack) / countItem(Container, ItemStack, int[])
  - hasSpaceFor(Container, ItemStack, int), availableSpace(Container, ItemStack)
  - Utilise par: StorageDeliveryManager, DeliveryPhaseGoal, ImportInterfaceBlockEntity, StorageItemAggregator
- SplitFluidHandler.java: IFluidHandler wrapper fill→inputTank, drain→outputTank
  - Utilisé par: CentrifugeHeartBlockEntity (fuelTank/outputTank)
- SplitItemHandler.java: IItemHandler wrapper insertItem→input, extractItem→output
  - Utilisé par: CentrifugeHeartBlockEntity (inputSlot/outputSlots)
- ParticleHelper.java: Utilitaire statique de spawn de particules (server/client)
  - EffectType enum: SUCCESS, FAILURE, MAGIC, HEAL, HONEY, SOUL, PORTAL, NATURE, FLAME, ELECTRIC, SCULK
  - Formes: burst, ring, spiral, line, sphere
  - Surcharges: ParticleOptions, ResourceLocation, EffectType
  - Client-side: addParticle, addAlwaysVisible

================================================================================
common/block/storage/
================================================================================

- InterfaceRequest.java: Demande de livraison publiée par interfaces/terminaux
  - Item, quantité, type (IMPORT/EXPORT), origin (REQUEST/AUTOMATION)
  - Source BlockPos (interface/terminal emetteur)
  - preloaded flag (items pré-chargés sur la bee, ex: terminal deposit)
  - Comparaison par source + item pour regroupement

- DeliveryTask.java: Tâche de livraison dans la queue du StorageDeliveryManager
  - sourcePos (où l'abeille extrait), destPos (où elle dépose)
  - preloaded flag (items pré-chargés, saute la phase source)
  - priority + dependencies (UUID) pour ordonnancement
  - splitting (division si quantité > capacité bee)
  - DeliveryState: QUEUED → FLYING → COMPLETED/FAILED
  - TaskOrigin: REQUEST (joueur), AUTOMATION (interface)

- TaskDisplayData.java: Record léger pour sync réseau (affichage GUI)
  - taskId, template, count, state, dependencyIds, origin, blockedReason

================================================================================
common/blockentity/storage/
================================================================================

- RequestManager.java: Gestionnaire central des demandes de livraison
  - Registre des demandes en attente (LinkedHashMap UUID → InterfaceRequest)
  - publishRequest(): fusion demandes identiques (source + type + item)
  - processRequests(): PENDING → DeliveryTask (IMPORT: coffre→interface, EXPORT: source→coffre)
  - cancelRequest(): annule demande + tâche associée, restitue items preloaded
  - onTaskCompleted/onTaskFailed: callbacks depuis StorageDeliveryManager
  - recheckBlockedRequests(): re-vérifie périodiquement les demandes BLOCKED
  - NBT persist/restore via "Requests" (ASSIGNED sauvé comme PENDING)

- StorageDeliveryManager.java: Queue livraison + spawn/recall bees
  - addDeliveryTask(): ajoute à la queue avec priorité
  - spawnDeliveryBee(): spawn avec waypoints multi-relais, preloaded support
  - recallBeeForTask(): rappelle la bee par taskId (vol direct retour controller)
  - killAllDeliveryBees(): kill immédiat avec restitution items (destruction controller)
  - findChestWithItem/Space(): recherche dans tout le réseau
  - findPathToChest(): BFS dans le graphe de nœuds pour waypoints relais
  - Consommation miel depuis HoneyReservoirs du multibloc

================================================================================
common/entity/delivery/
================================================================================

- DeliveryBeeEntity.java: Abeille de livraison (extends Bee, skin vanilla)
  - Invulnérable, silencieuse, sans collision, sans breeding, sans anger
  - initDeliveryTask(): configure source/dest/waypoints/items
  - recall(): rappelle vers controller (vol direct → restitution items → discard)
  - returnCarriedItemsToNetwork(): restitue items au réseau
  - Timeout: discard après 2400 ticks (2 min)
  - NBT minimal: controllerPos + carriedItems (discard au reload)

- DeliveryPhaseGoal.java: Goal unique de la DeliveryBee (FSM 6 phases)
  - FLY_TO_SOURCE → WAIT_AT_SOURCE → FLY_TO_CONTROLLER → FLY_TO_DEST → WAIT_AT_DEST → FLY_HOME
  - Preloaded: saute directement à FLY_TO_DEST
  - Recalled: vol direct vers returnPos, restitution items
  - navigateWaypoints(): navigation multi-relais avec index mutable

================================================================================
core/breeding/
================================================================================

- BreedingManager.java: Logique breeding, héritage, config loading

================================================================================
core/recipe/
================================================================================

- ProcessingOutput.java: Output avec probabilité (0.0-1.0), méthode roll()
- FluidIngredient.java: Ingrédient fluide avec codec, méthode test()
- ProcessingRecipeInput.java: RecipeInput combiné items+fluides
- BeemancerRecipeTypes.java: Registre des 4 types (CENTRIFUGING, INFUSING, CRYSTALLIZING, DISTILLING)
- BeemancerRecipeSerializers.java: Registre des serializers de recettes

================================================================================
common/menu/slot/
================================================================================

- OutputOnlySlot.java: Slot extraction uniquement (pattern Create)
- BeeAssignmentSlot.java: Slot acceptant uniquement MagicBeeItem
- LarvaSlot.java: Slot acceptant uniquement BeeLarvaItem

================================================================================
client/gui/widget/
================================================================================

- BeemancerSlot.java: Slot personnalisé avec image de fond optionnelle
  - Constructeur base: fond Minecraft par défaut
  - Constructeur avec image: fond personnalisé
  - Factory: combInput(), woodInput(), output()
  - Support filtre et mode output-only

- FluidGaugeWidget.java: Jauge de fluide avec rendu visuel
  - Couleurs: HONEY (orange), ROYAL_JELLY (crème), NECTAR (or)
  - Graduations 25%, 50%, 75%
  - Tooltip avec montant et pourcentage
  - isMouseOver() pour détection survol

- PlayerInventoryWidget.java: Widget de rendu inventaire joueur par texture
  - Texture: textures/gui/inventory.png
  - Remplace les appels programmatiques GuiRenderHelper.renderPlayerInventory()
  - Rendu via blit (texture-based) au lieu de fill() programmatique
  - Utilisé par: 10 screens (AlembicScreen, InfuserScreen, ManualCentrifugeScreen,
    PoweredCentrifugeScreen, HoneyTankScreen, CreativeTankScreen, CrystallizerScreen,
    MultiblockTankScreen, MagicHiveScreen, IncubatorScreen)

================================================================================
client/gui/
================================================================================

- GuiRenderHelper.java: Utilitaire partagé de rendu programmatique pour toutes les GUIs
  - renderContainerBackground(): fond gris avec bordures 3D, séparateur, labels
  - renderSlot(): slot 18x18 en creux
  - renderPlayerInventory(): 27 slots inventaire + 9 slots hotbar
  - renderProgressArrow(): flèche de progression honey-gold avec remplissage
  - renderProgressBar(): barre de progression horizontale
  - getFluidName(): nom de fluide depuis FluidStack
  - Utilisé par: tous les 10 screens (MagicHive, Incubator, ManualCentrifuge,
    PoweredCentrifuge, HoneyTank, CreativeTank, MultiblockTank, Crystallizer,
    Alembic, Infuser)

================================================================================
core/multiblock/
================================================================================

- BlockMatcher.java: Predicates réutilisables (air, block, stairFacing, any, or, and)
- MultiblockPattern.java: Définition déclarative de patterns avec Builder
- MultiblockPatterns.java: Registre central (HONEY_ALTAR, etc.)
- MultiblockValidator.java: Validation et utilitaires (validate, getAbsolutePositions, isPartOfMultiblock)
- MultiblockController.java: Interface pour BlockEntities contrôleurs
- MultiblockEvents.java: Détection destruction de blocs, cache contrôleurs actifs
- MultiblockCapabilityProvider.java: Interface délégation capabilities structurels → contrôleur
  - getFluidHandlerForBlock(BlockPos, Direction): fluid handler pour un bloc structurel
  - getItemHandlerForBlock(BlockPos, Direction): item handler pour un bloc structurel
  - Implémenté par: CentrifugeHeartBlockEntity
  - Querié par: HoneyReservoirBlockEntity.findCapabilityProvider()

================================================================================
common/entity/bee/
================================================================================

- BeeInventory.java: Inventaire interne pour récolteuses

================================================================================
common/entity/bee/goal/
================================================================================

- ReturnToHiveWhenLowHealthGoal.java: Fuite si vie < 30%
- BeeRevengeGoal.java: Attaque si blessée
- ForagingBehaviorGoal.java: Cycle complet butineuse
- HarvestingBehaviorGoal.java: Cycle complet récolteuse
- MoveToTargetGoal.java: Navigation manuelle vers cible (BeeWand)

================================================================================
client/renderer/util/
================================================================================

- FluidCubeRenderer.java: Rendu d'un cube fluide 6 faces (24 vertices)
  - Méthode statique renderFluidCube(PoseStack, MultiBufferSource, FluidStack, float, float, float, float, float, float, int)
  - Utilisé par: HoneyTankRenderer, HoneyReservoirRenderer, MultiblockTankRenderer

- DebugRenderHelper.java: Utilitaires de rendu debug partagés
  - drawLine(VertexConsumer, Matrix4f, float...) — ligne simple avec couleur
  - drawLine(PoseStack, MultiBufferSource, Vec3, Vec3, int, int, int, int) — ligne complète
  - drawCubeOutline(VertexConsumer, Matrix4f, AABB, float...) — contour de cube
  - Utilisé par: BeeDebugRenderer, StorageControllerRenderer

================================================================================
common/block/alchemy/
================================================================================

- AbstractPipeBlock.java: Classe de base pour les pipes (Item et Honey)
  - Gère: propriétés NORTH/S/E/W/UP/DOWN + EXTRACT_*, VoxelShape cache, connexion, tinting, interactions
  - Méthodes abstraites: isPipeEntity(), isPipeDisconnected(), setPipeDisconnected(),
    isSamePipeType(), hasCapabilityAt(), isTintablePipe(), hasTint(), applyTint()
  - Utilisé par: HoneyPipeBlock, ItemPipeBlock

================================================================================
common/menu/
================================================================================

- BeemancerMenu.java: Classe de base pour tous les menus Beemancer
  - addPlayerInventory(Inventory, int x, int y) — 27 slots inventaire principal
  - addPlayerHotbar(Inventory, int x, int y) — 9 slots hotbar
  - Utilisé par: ManualCentrifugeMenu, PoweredCentrifugeMenu, AlembicMenu,
    InfuserMenu, CrystallizerMenu, HoneyTankMenu, MultiblockTankMenu,
    IncubatorMenu, MagicHiveMenu, StorageControllerMenu

################################################################################
